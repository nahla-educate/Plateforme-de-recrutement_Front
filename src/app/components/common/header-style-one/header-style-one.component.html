<header class="header-area p-relative">

    <div class="top-header top-header-style-four">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8 col-md-8">


                    <div class="top-header-social" *ngIf="!authService.isAuthenticated()">
                        <a href="https://www.facebook.com" target="_blank"><i class='bx bxl-facebook'></i></a>
                        &nbsp; <a href="https://www.twitter.com" target="_blank"><i class='bx bxl-twitter'></i></a>
                        &nbsp; <a href="https://www.linkedin.com" target="_blank"><i class='bx bxl-linkedin'></i></a>
                        &nbsp; <a href="https://www.facebook.com" target="_blank"><i class='bx bxl-instagram'></i></a>
                    </div>
                </div>


                <div class="col-lg-4 col-md-4">
                    <ul class="top-header-login-register" *ngIf="!authService.isAuthenticated()">
                        <li><a routerLink="/login"><i class='bx bx-log-in'></i>Se Connecter</a></li>
                        <li><a routerLink="/register"><i class='bx bx-log-in-circle'></i> S'inscrire</a></li>
                    </ul>
                </div>

                <div class="col-lg-9 col-lg-9">
                    <div class="top-header-btn" *ngIf="authService.isAuthenticated()">
                        <div *ngIf="currentUser.role==='recruteur'">
                            <a routerLink="/loc" class="default-btn"><i
                                    class="bx bx-plus-circle icon-arrow before"></i><span class="label">Liste des
                                    candidates</span><i class="bx bx-plus-circle icon-arrow after"></i></a>
                        </div>
                        <div *ngIf="currentUser.role==='candidate'">
                            <a routerLink="/deposer-cv" class="default-btn"><i
                                    class="bx bx-plus-circle icon-arrow before"></i><span class="label">Déposer
                                    CV</span><i class="bx bx-plus-circle icon-arrow after"></i></a>
                        </div>
                        <div *ngIf="currentUser.role==='moderateur'">
                            <a routerLink="/appo" class="default-btn"><i
                                    class="bx bx-plus-circle icon-arrow before"></i><span class="label">Gérer
                                    TWE</span><i class="bx bx-plus-circle icon-arrow after"></i></a>
                        </div>
                    </div>

                </div>

                <!-- <div *ngIf="authService.isAuthenticated()" >
                    <div ngbDropdown class="d-inline-block">
                      <button class="btn btn-outline-light"  id="dropdownBasic1" ngbDropdownToggle>Mon Compte</button>
                      <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                        <button ngbDropdownItem><a href="/monCompte"><i class="fa fa-cog"></i> Paramétres</a></button>
                        <button ngbDropdownItem (click)="logout()"><i class='bx bx-log-in icon-arrow '></i> Se déconnecter</button>
                      </div>
                    </div>
                  </div>
                 -->



                <div class="dropdown" *ngIf="authService.isAuthenticated()">
                    <div class="dropdown-toggle" type="button" data-toggle="dropdown">
                        <img alt="photo de profil" id="imageUrl" name="imageUrl" src="{{currentUser.imageUrl}}"
                            class="rounded-circle img-responsive mt-2" width="50" height="50">

                    </div>
                    <ul class="dropdown-menu">
                        <button ngbDropdownItem><a href="/monCompte" style="text-decoration: none; color: #000;"><i
                                    class="fa fa-cog"></i> voir profil</a></button>

                        <button ngbDropdownItem><a href="/monCompte" style="text-decoration: none;  color: #000;"><i
                                    class="fa fa-cog"></i> Modifier le profil</a></button>

                        <button ngbDropdownItem><a href="/monCompte" style="text-decoration: none;  color: #000;"><i
                                    class="fa fa-cog"></i> changer mot de passe</a></button>

                        <button ngbDropdownItem (click)="logout()"><i class='bx bx-log-in icon-arrow '></i> Se
                            déconnecter</button>
                    </ul>
                </div>





                <!-- <div class="col-lg-12 col-md-12 ">
                            <ul class="top-header-login-register"  *ngIf="authService.isAuthenticated()">
                              <button class="logout btn btn-default" (click)="logout()"><i class='bx bx-log-in icon-arrow '></i>Se Déconnecter</button>

                              <a href="/monCompte"  class="monCompte" >Mon Compte</a>
                              <div class="top-header-btn">
                                <a routerLink="/deposer-cv" class="default-btn"><span class="label">Déposer CV</span></a>
                            </div>
                             </ul>    
                     </div> -->




            </div>
        </div>
    </div>

    <div class="navbar-area navbar-style-three">
        <div class="ednuv-responsive-nav">
            <div class="container">
                <div class="ednuv-responsive-menu">
                    <div class="logo">
                        <a routerLink="/">
                            <img src=".\assets\img\logo.png" alt="logo" width="110px" height="110px">
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="ednuv-nav">
            <div class="container">
                <nav class="navbar navbar-expand-md navbar-light">
                    <a class="navbar-brand" routerLink="/">
                        <img src=".\assets\img\logo.png" alt="logo" width="220px" height="140px">
                    </a>

                    <div class="collapse navbar-collapse mean-menu">
                        <ul class="navbar-nav">
                            <li class="nav-item"><a href="javascript:void(0)" routerLink="/" class="nav-link">Acceuil<i
                                        class='bx bx-chevron-down'></i></a>
                                <ul class="dropdown-menu">
                                    <li class="nav-item" (click)="toApn()"><a class="nav-link" routerLinkActive="active"
                                            [routerLinkActiveOptions]="{exact: true}">À propos de nous</a></li>

                                    <li class="nav-item" (click)="toAction()"><a class="nav-link"
                                            routerLinkActive="active"
                                            [routerLinkActiveOptions]="{exact: true}">Actions</a></li>

                                    <li class="nav-item" (click)="toStat()"><a class="nav-link"
                                            routerLinkActive="active"
                                            [routerLinkActiveOptions]="{exact: true}">Statistiques</a></li>

                                    <li class="nav-item" (click)="toTemoi()"><a class="nav-link"
                                            routerLinkActive="active"
                                            [routerLinkActiveOptions]="{exact: true}">Témoignanges</a></li>

                                    <li class="nav-item" (click)="toTeam()"><a class="nav-link"
                                            routerLinkActive="active"
                                            [routerLinkActiveOptions]="{exact: true}">Equipe</a></li>

                                    <li class="nav-item" (click)="toPartenaire()"><a class="nav-link"
                                            routerLinkActive="active"
                                            [routerLinkActiveOptions]="{exact: true}">Partenaires</a></li>

                                    <li class="nav-item" (click)="toContact"><a class="nav-link"
                                            routerLinkActive="active"
                                            [routerLinkActiveOptions]="{exact: true}">Contact</a></li>
                                </ul>
                            </li>

                            <li class="nav-item"><a href="javascript:void(0)" routerLink="/assistanceTWE"
                                    class="nav-link">Assistance</a>

                            </li>

                            <li class="nav-item"><a href="javascript:void(0)" routerLink="/actualites"
                                    class="nav-link">Actualités </a>

                            </li>

                            <!-- <li class="nav-item"><a href="javascript:void(0)" class="nav-link">Blog </a>
                                
                            </li> -->

                            <li class="nav-item"><a routerLink="/blog" class="nav-link" routerLinkActive="active"
                                    [routerLinkActiveOptions]="{exact: true}">Blog</a></li>





                            <li class="nav-item"><a href="javascript:void(0)" class="nav-link">Evenements<i
                                        class='bx bx-chevron-down'></i></a>
                                <ul class="dropdown-menu">
                                    <li class="nav-item"><a routerLink="/shop-grid" class="nav-link"
                                            routerLinkActive="active"
                                            [routerLinkActiveOptions]="{exact: true}">Formation</a></li>

                                    <li class="nav-item"><a routerLink="/shop-grid-fullwidth" class="nav-link"
                                            routerLinkActive="active"
                                            [routerLinkActiveOptions]="{exact: true}">Webinaire</a></li>

                                    <li class="nav-item"><a routerLink="/single-products" class="nav-link"
                                            routerLinkActive="active"
                                            [routerLinkActiveOptions]="{exact: true}">Calendrier</a></li>
                                </ul>
                            </li>

                        </ul>

                        <div class="others-option">
                            <div class="search-box d-inline-block">
                                <i class='bx bx-search'></i>
                            </div>
                            &nbsp; &nbsp;
                            <div class="bell-box d-inline-block" *ngIf="authService.isAuthenticated()">

                                <ul class="navbar-nav" *ngIf="currentUser.role==='candidate'">
                                    <li class="nav-item"><a href="javascript:void(0)" class="nav-link"> <i
                                                (click)="clearNombre()" class="fa fa-bell" [ngStyle]="color"></i><span
                                                class="nbNotif">{{nombreNotification}}</span> </a>
                                        <ul class="dropdown-menu" *ngFor="let notification of notifications" id="notif" style="overflow-y: scroll; height: 340px; width: 215px;">

                                            <div #myDiv style="height: 340px; ">

                                                <div *ngFor="let notification of notifications">
                                                    <th>
                                                        <div aria-live="polite" aria-atomic="true"
                                                            style="position: relative; min-height: 170px;">
                                                            <div [ngClass]="{
                                                                'text-warning':notification.statut === false
                                                                    }" class="notif" style=" top: 0; right: 0;" >
                                                                <div class="toast-header">
                                                                    <strong class="mr-auto"></strong>
                                                                    <small>{{calculDate(notification)}}
                                                                        {{hourTime(notification)}}</small>

                                                                    <button type="button" class="ml-2 mb-1 close"
                                                                        (click)="toggleFunction()" aria-label="Close">

                                                                        <span aria-hidden="true">&times;</span>
                                                                    </button>
                                                                </div>
                                                                <div style="cursor: pointer;"
                                                                    (click)="updateNotification(notification)" (click)="lu()"
                                                                    class="toast-body">{{notification.value}} 
                                                                    <p *ngIf="show && notification.statut==false"><i class="fa fa-circle" style="color: var(--mainColor);"></i></p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </th>
                                                </div>
                                            </div>


                                            <!-- <li class="nav-item"><a routerLink="/shop-grid" class="nav-link" >{{notification.value}}</a></li>
                                 -->


                                        </ul>
                                    </li>

                                </ul>

                                <ul class="navbar-nav" *ngIf="currentUser.role==='recruteur'">
                                    <li class="nav-item"><a href="javascript:void(0)" class="nav-link"> <i
                                                class="fa fa-bell"></i> </a>
                                        <ul class="dropdown-menu" *ngFor="let notification of notifications" id="notif">

                                            <div #myDiv style="overflow-y: scroll; height: 340px;">

                                                <div *ngFor="let notification of notifications">
                                                    <th>
                                                        <div aria-live="polite" aria-atomic="true"
                                                            style="position: relative; min-height: 100px;">
                                                            <div class="notif" style=" top: 0; right: 0;">
                                                                <div class="toast-header">
                                                                    <strong class="mr-auto"></strong>
                                                                    <small>{{calculDate(notification)}}
                                                                        {{hourTime(notification)}}</small>

                                                                    <button type="button" class="ml-2 mb-1 close"
                                                                        (click)="toggleFunction()" aria-label="Close">

                                                                        <span aria-hidden="true">&times;</span>
                                                                    </button>
                                                                </div>
                                                                <div class="toast-body">{{notification.value}}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </th>
                                                </div>
                                            </div>


                                            <!-- <li class="nav-item"><a routerLink="/shop-grid" class="nav-link" >{{notification.value}}</a></li>
                                -->


                                        </ul>
                                    </li>

                                </ul>


                            </div>




                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </div>

</header>

<div class="search-overlay">
    <div class="d-table">
        <div class="d-table-cell">
            <div class="search-overlay-layer"></div>
            <div class="search-overlay-layer"></div>
            <div class="search-overlay-layer"></div>

            <div class="search-overlay-close">
                <span class="search-overlay-close-line"></span>
                <span class="search-overlay-close-line"></span>
            </div>

            <div class="search-overlay-form">
                <form>

                    <input type="text" class="input-search" placeholder="Recherche...">
                    <button type="submit"><i class='bx bx-search-alt'></i></button>
                </form>
            </div>
        </div>
    </div>
</div>
